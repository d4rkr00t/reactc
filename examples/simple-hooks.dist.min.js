let [e, t] = (() => {
  let e = new Map();
  let t = new Map();
  return [
    function(t, n, r) {
      return [
        e.get(t) || r,
        r => {
          t._ || e.delete(t), e.set(t, r), (t._ = n(t.props, t));
        }
      ];
    },
    function(e, n) {
      let r = t.get(e);
      r && r();
      let c = n();
      c && t.set(e, c);
    }
  ];
})();
function n(e, t, n, r) {
  e[t] = e[t] || {};
  let c = e[t]._ || document.createElement(n);
  return (
    r &&
      Object.keys(r).forEach(n => {
        if ("style" === n)
          return c.setAttribute(
            n,
            Object.keys(r[n])
              .map(e => {
                let t = r[n][e];
                return (
                  e.replace(/([A-Z])/g, e => "-" + e.toLowerCase()) +
                  ": " +
                  ("number" == typeof t ? t + "px" : t)
                );
              })
              .join(";")
          );
        "onClick" === n &&
          (e[t].click && c.removeEventListener("click", e[t].click),
          c.addEventListener("click", r[n]),
          (e[t].click = r[n])),
          c.setAttribute(n, r[n]);
      }),
    (e[t]._ = c),
    e[t]
  );
}
function r(e, t, n, r) {
  return (
    (e[t] = e[t] || {
      _: null,
      $: () => {
        e[t] = void 0;
      },
      props: r
    }),
    (e[t]._ = n(r, e[t])),
    (e[t].props = r),
    e[t]
  );
}
function c(e, t) {
  e._.innerHTML = "";
  let n = document.createDocumentFragment();
  [].concat(t).forEach(e => {
    if (
      (function(e) {
        return "string" == typeof e || "number" == typeof e;
      })(e)
    )
      return n.appendChild(document.createTextNode(e));
    if (Array.isArray(e)) {
      let t = document.createDocumentFragment();
      return c({ _: t }, e), n.appendChild(t);
    }
    n.appendChild(e._);
  }),
    e._.appendChild(n);
}
function i(e, t) {
  return n(t, "e1", "div"), c(t.e1, [e.children]), t.e1._;
}
var u, o;
(u = document.getElementById("app")),
  (o = r(
    {},
    "App",
    function u(o, l) {
      var [p, a] = e(l, u, 0);
      return (
        t(l, function() {
          var e = setTimeout(function() {
            return a(p + 1);
          }, 1e3);
          return () => clearTimeout(e);
        }),
        n(l, "e2", "div"),
        r(l, "c1", i, { children: [p] }),
        c(l.e2, [l.c1]),
        l.e2._
      );
    },
    null
  ))._.parent !== u && u.appendChild(o._);
