function e(e,t){e.appendChild(t)}function t(e,t,c,n,o){if(t[c])return void(t[c].$&&t[c].$(o));let r=n(o,e);t[c]=r}function c(e,t,c,n){if(e[t])return void o(e[t],n);let r={_:document.createElement(c),$p:n,$h:{}};o(r,n),e[t]=r}function n(e,t,c){c?e._.setAttribute(t,c):e._.removeAttribute(t),e.$p[t]=c}function o(e,t){t&&(t.$&&Object.keys(t.$).forEach(c=>n(e,c,t.$[c])),t.$e&&Object.keys(t.$e).forEach(c=>(function(e,t,c){e.$p[t]&&e._.removeEventListener(t,e.$p[t]),e._.addEventListener(t,c),e.$p[t]=c})(e,c,t.$e[c])),t.$p&&Object.keys(t.$p).forEach(c=>(function(e,t,c){e._[t]=c,e.$p[t]=c})(e,c,t.$p[c])),e.$p=t)}function r(t,c,n,o){let r=t[c]._,i=o||0,l=Array.from(r.childNodes),a=!l.length;if(!n||!l.length&&!n.length)return i;let u=n.reduce((e,t)=>e.concat(t),[]),$=new WeakSet;u.forEach(t=>{if(null==t)return;let c=function(e){return"string"==typeof e||"number"==typeof e}(t),n=c?document.createTextNode(t):t.$r?t.$r.$r?t.$r.$r._:t.$r._:t._,o=l.indexOf(n),u=l[i];return null!=n?a?(a=!1,$.add(n),e(r,n)):-1===o&&u&&!c?($.add(n),r.insertBefore(n,u)):c&&u&&3===u.nodeType?(u.textContent=t,i++,void $.add(u)):l[o]===n?(i++,void $.add(n)):u?void 0:($.add(n),e(r,n)):void 0}),l.forEach(e=>{$.has(e)||r.removeChild(e)})}let i=(()=>{let e=[];return{sHC:t=>e.push({ctx:t,pos:0,effects:[]}),pHC:()=>{let t=e.pop();t.pos=0,t.effects.forEach(e=>e()),t.effects=[]},gHC:()=>e[e.length-1]}})(),l=(e=[],t=[])=>e.length===t.length&&(!e.length&&!t.length||e.every((e,c)=>e===t[c])),[a,u,$]=(()=>{let e=new Map;let t=new Map;let c=new Map;return[function(t){let c=i.gHC(),n=e.get(c.ctx)||[],o=c.pos,r=void 0===n[o]?t:n[o];return c.pos+=1,n[o]=r,e.set(c.ctx,n),[r,t=>{let n=e.get(c.ctx)||[];n[o]=t,e.set(c.ctx,n),c.ctx.$&&c.ctx.$(c.ctx.$p)}]},function(e,c){let n=i.gHC(),o=t.get(n.ctx)||[],r=n.pos,a=o[r];n.pos+=1,a&&l(a.cache,c)||a&&Array.isArray(c)&&!c.length||(o[r]={cache:c},t.set(n.ctx,o),n.effects.push(()=>{a&&a.hookDestroy&&a.hookDestroy();let o=e(),i=t.get(n.ctx)||[];i[r]={hookDestroy:o,cache:c},t.set(n.ctx,i)}))},function(e){let t=i.gHC(),n=c.get(t.ctx)||[],o=t.pos,r=n[o];return t.pos+=1,r||(n[o]={current:e},c.set(t.ctx,n),n[o])}]})();const s=[5e3,4e3,1e3],f=({color:e,active:t},o,i)=>{var l=i||{$p:{color:e,active:t},$:e=>{f(e,o,l)}};if(o.sHC(l),l!==i)return c(l,"cu","div",{$:{class:"light",style:`background-color:${e};opacity:${t?1:.4}`}}),r(l,"cu"),l.$r=l.cu,o.pHC(),l;{let c=`background-color:${e};opacity:${t?1:.4}`;l.cu.$p.style!==c&&n(l.cu,"style",c),o.pHC()}},p=({initialValue:e},n,o)=>{var i=o||{$p:{initialValue:e},$:e=>{p(e,n,i)}};n.sHC(i);const[l,$]=a(e);if(u(()=>{const e=setTimeout(()=>{$((l+1)%3)},s[l]);return()=>clearTimeout(e)},[l]),i!==o)return c(i,"cv","div",{$:{class:"traffic-light"}}),t(n,i,"cw",f,{color:"#f00",active:0===l}),t(n,i,"cx",f,{color:"#ff0",active:2===l}),t(n,i,"cy",f,{color:"#0c0",active:1===l}),r(i,"cv",[i.cw,i.cx,i.cy]),i.$r=i.cv,n.pHC(),i;i.cw.$({color:"#f00",active:0===l}),i.cx.$({color:"#ff0",active:2===l}),i.cy.$({color:"#0c0",active:1===l}),n.pHC()};!function(t,c,n,o){let r=n(o,c);if(r)t.innerHTML="",e(t,r.$r._)}(document.getElementById("app"),i,function e(n,o,i){var l=i||{$p:n,$:t=>{e(t,o,l)}};if(o.sHC(l),l!==i)return c(l,"cz","div",{$:{class:"App"}}),t(o,l,"da",p,{initialValue:0}),t(o,l,"db",p,{initialValue:1}),r(l,"cz",[l.da,l.db]),l.$r=l.cz,o.pHC(),l;l.da.$({initialValue:0}),l.db.$({initialValue:1}),o.pHC()},null);