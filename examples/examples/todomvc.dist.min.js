function e(e,t,o,l,n){if(t[o])return void(t[o].$&&t[o].$(n));let c=l(n,e);t[o]=c}function t(e,t,o,n){if(e[t])return void l(e[t],n);let c={_:document.createElement(o),$p:n,$h:{}};l(c,n),e[t]=c}function o(e,t,o){if("style"===t)e._[t]=Object.keys(o).map(e=>{let t=o[e];return e.replace(/([A-Z])/g,e=>"-"+e.toLowerCase())+": "+("number"==typeof t?t+"px":t)}).join(";");else if(t.startsWith("on")){let l=t.replace("on","").toLowerCase();"change"===l&&"INPUT"===e._.nodeName&&"text"===e._.type&&(l="input"),e.$p[t]&&e._.removeEventListener(l,e.$p[t]),e._.addEventListener(l,o)}else["value","checked"].indexOf(t)>=0?e._[t]=o:e._.setAttribute(t,o);e.$p[t]=o}function l(e,t){t&&(Object.keys(t).forEach(l=>o(e,l,t[l])),e.$p=t)}function n(e,t,o,l){let c=e[t]._,i=l||0,r=Array.from(c.childNodes);if(r.length||o.length)for(o.forEach(e=>{if(null!==e){if(function(e){return"string"==typeof e||"number"==typeof e}(e))return r[i]?(3===r[i].nodeType?r[i].textContent!==e&&(r[i].textContent=e):c.replaceChild(document.createTextNode(e),r[i]),void i++):(i++,c.appendChild(document.createTextNode(e)));if(Array.isArray(e))return n({$r:{_:c}},"$r",e,i),void(i+=e.length);{let t=e.$r?e.$r.$r?e.$r.$r._:e.$r._:e._;if(r[i]){if(r[i]!==t)try{c.replaceChild(t,r[i])}catch(e){}return void i++}if(r[i]){if(r[i]!==t)try{c.replaceChild(t,r[i])}catch(e){}return void i++}return c.appendChild(t),void i++}}r[i]&&(c.removeChild(r[i]),i++)});i<r.length;){if(r[i].parentNode)try{r[i].parentNode.removeChild(r[i])}catch(e){}i++}}let c=(()=>{let e=[];return{sHC:t=>e.push({ctx:t,pos:0}),pHC:()=>{e.pop().pos=0},gHC:()=>e[e.length-1]}})(),[i,r]=(()=>{let e=new Map;let t=new Map;return[function(t){let o=c.gHC(),l=e.get(o.ctx)||[],n=o.pos,i=void 0===l[n]?t:l[n];return o.pos+=1,l[n]=i,e.set(o.ctx,l),[i,t=>{let l=e.get(o.ctx)||[];l[n]=t,e.set(o.ctx,l),o.ctx.$&&o.ctx.$(o.ctx.$p)}]},function(e){let o=c.gHC(),l=t.get(o.ctx)||[],n=o.pos,i=l[n];i&&i();let r=e();r&&(l[n]=r,t.set(o.ctx,l))}]})();const a="all",d="active",s="completed";function p(){var e,t,o="";for(e=0;e<32;e++)t=16*Math.random()|0,8!==e&&12!==e&&16!==e&&20!==e||(o+="-"),o+=(12===e?4:16===e?3&t|8:t).toString(16);return o}function u(e,l,c){var r=c||{$p:e,$:e=>{u(e,l,r)}};l.sHC(r);let a=[];e.todo.completed&&a.push("completed"),e.editing&&a.push("editing");let[d,s]=i(e.todo.title),p=()=>{let t=d.trim();t?e.onSave(t):e.onDestroy()};if(r!==c)return t(r,"e53","li",{class:a.join(" ")}),t(r,"e54","div",{class:"view"}),t(r,"e55","input",{class:"toggle",type:"checkbox",checked:e.todo.completed,onChange:e.onToggle}),n(r,"e55",[]),t(r,"e56","label",{onDblclick:e.onEdit}),n(r,"e56",[e.todo.title]),t(r,"e57","button",{class:"destroy",onClick:e.onDestroy}),n(r,"e57",[]),n(r,"e54",[r.e55,r.e56,r.e57]),t(r,"e58","input",{class:"edit",value:d,onChange:e=>s(e.target.value),onBlur:p,onKeyDown:t=>{27===t.which?(e.onCancel(event),s(e.todo.title)):13===event.which&&p()}}),n(r,"e58",[]),n(r,"e53",[r.e54,r.e58]),r.$r=r.e53,l.pHC(),r;{let t=e.todo.completed;r.e55.$p.checked!==t&&o(r.e55,"checked",t);let c=e.onToggle;r.e55.$p.onChange!==c&&o(r.e55,"onChange",c);let i=e.onEdit;r.e56.$p.onDoubleClick!==i&&o(r.e56,"onDoubleClick",i),n(r,"e56",[e.todo.title]);let a=e.onDestroy;r.e57.$p.onClick!==a&&o(r.e57,"onClick",a);let u=d;r.e58.$p.value!==u&&o(r.e58,"value",u),o(r.e58,"onChange",e=>s(e.target.value));let h=p;r.e58.$p.onBlur!==h&&o(r.e58,"onBlur",h),o(r.e58,"onKeyDown",t=>{27===t.which?(e.onCancel(event),s(e.todo.title)):13===event.which&&p()}),l.pHC()}}function h(e,l,c){var i=c||{$p:e,$:e=>{h(e,l,i)}};l.sHC(i);let r=(p=e.count,u="item",1===p?u:u+"s");var p,u;let g=null;if(i!==c)return t(i,"e59","button",{class:"clear-completed",onClick:e.onClearCompleted}),n(i,"e59",["Clear completed"]),e.completedCount>0&&(g=i.e59),t(i,"e60","footer",{class:"footer"}),t(i,"e61","span",{class:"todo-count"}),t(i,"e62","strong"),n(i,"e62",[e.count]),n(i,"e61",[i.e62," ",r," left"]),t(i,"e63","ul",{class:"filters"}),t(i,"e64","li"),t(i,"e65","a",{href:"#/",class:e.nowShowing===a?"selected":""}),n(i,"e65",["All"]),n(i,"e64",[i.e65]),t(i,"e66","li"),t(i,"e67","a",{href:"#/active",class:e.nowShowing===d?"selected":""}),n(i,"e67",["Active"]),n(i,"e66",[i.e67]),t(i,"e68","li"),t(i,"e69","a",{href:"#/completed",class:e.nowShowing===s?"selected":""}),n(i,"e69",["Completed"]),n(i,"e68",[i.e69]),n(i,"e63",[i.e64,i.e66,i.e68]),n(i,"e60",[i.e61,i.e63,g]),i.$r=i.e60,l.pHC(),i;{let t=e.onClearCompleted;i.e59.$p.onClick!==t&&o(i.e59,"onClick",t),e.completedCount>0&&(g=i.e59),n(i,"e62",[e.count]),n(i,"e61",[i.e62," ",r," left"]);let c=e.nowShowing===a?"selected":"";i.e65.$p.className!==c&&o(i.e65,"className",c);let p=e.nowShowing===d?"selected":"";i.e67.$p.className!==p&&o(i.e67,"className",p);let u=e.nowShowing===s?"selected":"";i.e69.$p.className!==u&&o(i.e69,"className",u),n(i,"e60",[i.e61,i.e63,g]),l.pHC()}}function g(e){switch(e){case"#/active":return d;case"#/completed":return s;default:return a}}!function(e,t,o,l){let n=o(l,t);n&&(e.innerHTML="",e.appendChild(n.$r._))}(document.getElementById("app"),c,function l(c,a,m){var C=m||{$p:c,$:e=>{l(e,a,C)}};a.sHC(C);let[f,v]=i(""),[w,$]=i(g(window.location.hash)),[y,k]=function(){let[e,t]=i(JSON.parse(window.localStorage.getItem("__todos__")||"null")||[{id:p(),title:"todo 1",completed:!1},{id:p(),title:"todo 2",completed:!1},{id:p(),title:"todo 3",completed:!0}]);return[e,e=>{window.localStorage.setItem("__todos__",JSON.stringify(e)),t(e)}]}(),[_,x]=i(null);r(()=>{let e=()=>{$(g(window.location.hash))};return window.addEventListener("hashchange",e),()=>window.removeEventListener("hashchange",e)});let H=y.filter(function(e){switch(w){case d:return!e.completed;case s:return e.completed;default:return!0}},this).map(function(t,o){var l={};if(a.sHC(l),l!==m)return e(a,l,"c6",u,{key:t.id,todo:t,editing:_===t.id,onEdit:()=>x(t.id),onSave:e=>{y.splice(o,1,{...t,title:e}),k(y),x(null)},onCancel:()=>x(null),onToggle:()=>{y.splice(o,1,{...t,completed:!t.completed}),k(y)},onDestroy:()=>{y.splice(o,1),k(y)}}),l.$r=l.c6,a.pHC(),l;l.c6.$({key:t.id,todo:t,editing:_===t.id,onEdit:()=>x(t.id),onSave:e=>{y.splice(o,1,{...t,title:e}),k(y),x(null)},onCancel:()=>x(null),onToggle:()=>{y.splice(o,1,{...t,completed:!t.completed}),k(y)},onDestroy:()=>{y.splice(o,1),k(y)}}),a.pHC()},this),S=y.reduce(function(e,t){return t.completed?e:e+1},0),b=y.length-S,N=null,D=null;if(C!==m)return t(C,"e70","section",{class:"main"}),t(C,"e71","input",{id:"toggle-all",class:"toggle-all",type:"checkbox",checked:0===S,onChange:()=>{let e=y.every(e=>e.completed);k(y.map(t=>({...t,completed:!e})))}}),n(C,"e71",[]),t(C,"e72","label",{for:"toggle-all"}),n(C,"e72",[]),t(C,"e73","ul",{class:"todo-list"}),n(C,"e73",[H]),n(C,"e70",[C.e71,C.e72,C.e73]),y.length&&(N=C.e70),e(a,C,"c7",h,{count:S,completedCount:b,nowShowing:w,onClearCompleted:()=>k(y.filter(e=>!e.completed))}),(S||b)&&(D=C.c7),t(C,"e74","div"),t(C,"e75","header",{class:"header"}),t(C,"e76","h1"),n(C,"e76",["todos"]),t(C,"e77","input",{class:"new-todo",placeholder:"What needs to be done?",autoFocus:!0,value:f,onChange:e=>v(e.target.value),onKeyDown:e=>{13===e.keyCode&&f&&(e.preventDefault(),y.push({id:p(),title:f,completed:!1}),k(y),v(""))}}),n(C,"e77",[]),n(C,"e75",[C.e76,C.e77]),n(C,"e74",[C.e75,N,D]),C.$r=C.e74,a.pHC(),C;{let e=0===S;C.e71.$p.checked!==e&&o(C.e71,"checked",e),o(C.e71,"onChange",()=>{let e=y.every(e=>e.completed);k(y.map(t=>({...t,completed:!e})))}),n(C,"e73",[H]),y.length&&(N=C.e70),C.c7.$({count:S,completedCount:b,nowShowing:w,onClearCompleted:()=>k(y.filter(e=>!e.completed))}),(S||b)&&(D=C.c7);let t=f;C.e77.$p.value!==t&&o(C.e77,"value",t),o(C.e77,"onChange",e=>v(e.target.value)),o(C.e77,"onKeyDown",e=>{13===e.keyCode&&f&&(e.preventDefault(),y.push({id:p(),title:f,completed:!1}),k(y),v(""))}),n(C,"e74",[C.e75,N,D]),a.pHC()}},null);