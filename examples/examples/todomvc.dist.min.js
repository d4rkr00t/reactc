function e(e,t,o,l,n){if(t[o])return void(t[o].$&&t[o].$(n));let c=l(n,e);t[o]=c}function t(e,t,o,n){if(e[t])return void l(e[t],n);let c={_:document.createElement(o),$p:n,$h:{}};l(c,n),e[t]=c}function o(e,t,o){if("style"===t)e._[t]=Object.keys(o).map(e=>{let t=o[e],l=e.replace(/([A-Z])/g,e=>"-"+e.toLowerCase());return l+": "+("number"!=typeof t||-1!==["opacity","flex","z-index"].indexOf(l)||l.match(/^--/)?""+t:t+"px")}).join(";");else if(t.startsWith("on")){let l=t.replace("on","").toLowerCase();"change"===l&&"INPUT"===e._.nodeName&&"text"===e._.type&&(l="input"),e.$p[t]&&e._.removeEventListener(l,e.$p[t]),e._.addEventListener(l,o)}else["value","checked","className"].indexOf(t)>=0?e._[t]=o:o?e._.setAttribute(t,o):e._.removeAttribute(t);e.$p[t]=o}function l(e,t){t&&(Object.keys(t).forEach(l=>o(e,l,t[l])),e.$p=t)}function n(e,t,o,l){let c=e[t]._,i=l||0,a=Array.from(c.childNodes);if(o&&(a.length||o.length))for(o.forEach(e=>{if(null!==e){if(function(e){return"string"==typeof e||"number"==typeof e}(e))return a[i]?(3===a[i].nodeType?a[i].textContent!==e&&(a[i].textContent=e):c.replaceChild(document.createTextNode(e),a[i]),void i++):(i++,c.appendChild(document.createTextNode(e)));if(Array.isArray(e))return n({$r:{_:c}},"$r",e,i),void(i+=e.length);{let t=e.$r?e.$r.$r?e.$r.$r._:e.$r._:e._;if(a[i]){if(a[i]!==t)try{c.replaceChild(t,a[i])}catch(e){}return void i++}if(a[i]){if(a[i]!==t)try{c.replaceChild(t,a[i])}catch(e){}return void i++}return c.appendChild(t),void i++}}a[i]&&(c.removeChild(a[i]),i++)});i<a.length;){if(a[i].parentNode)try{a[i].parentNode.removeChild(a[i])}catch(e){}i++}}let c=(()=>{let e=[];return{sHC:t=>e.push({ctx:t,pos:0}),pHC:()=>{e.pop().pos=0},gHC:()=>e[e.length-1]}})(),[i,a]=(()=>{let e=new Map;let t=new Map;return[function(t){let o=c.gHC(),l=e.get(o.ctx)||[],n=o.pos,i=void 0===l[n]?t:l[n];return o.pos+=1,l[n]=i,e.set(o.ctx,l),[i,t=>{let l=e.get(o.ctx)||[];l[n]=t,e.set(o.ctx,l),o.ctx.$&&o.ctx.$(o.ctx.$p)}]},function(e){let o=c.gHC(),l=t.get(o.ctx)||[],n=o.pos,i=l[n];i&&i();let a=e();a&&(l[n]=a,t.set(o.ctx,l))}]})();const r="all",d="active",s="completed";function p(){var e,t,o="";for(e=0;e<32;e++)t=16*Math.random()|0,8!==e&&12!==e&&16!==e&&20!==e||(o+="-"),o+=(12===e?4:16===e?3&t|8:t).toString(16);return o}function u(e,l,c){var a=c||{$p:e,$:e=>{u(e,l,a)}};l.sHC(a);let r=[];e.todo.completed&&r.push("completed"),e.editing&&r.push("editing");let[d,s]=i(e.todo.title),p=()=>{let t=d.trim();t?e.onSave(t):e.onDestroy()};if(a!==c)return t(a,"e53","li",{className:r.join(" ")}),t(a,"e54","div",{className:"view"}),t(a,"e55","input",{className:"toggle",type:"checkbox",checked:e.todo.completed,onChange:e.onToggle}),n(a,"e55"),t(a,"e56","label",{onDblclick:e.onEdit}),n(a,"e56",[e.todo.title]),t(a,"e57","button",{className:"destroy",onClick:e.onDestroy}),n(a,"e57"),n(a,"e54",[a.e55,a.e56,a.e57]),t(a,"e58","input",{className:"edit",value:d,onChange:e=>s(e.target.value),onBlur:p,onKeyDown:t=>{27===t.which?(e.onCancel(event),s(e.todo.title)):13===event.which&&p()}}),n(a,"e58"),n(a,"e53",[a.e54,a.e58]),a.$r=a.e53,l.pHC(),a;{let t=e.todo.completed;a.e55.$p.checked!==t&&o(a.e55,"checked",t);let c=e.onToggle;a.e55.$p.onChange!==c&&o(a.e55,"onChange",c);let i=e.onEdit;a.e56.$p.onDoubleClick!==i&&o(a.e56,"onDoubleClick",i),n(a,"e56",[e.todo.title]);let r=e.onDestroy;a.e57.$p.onClick!==r&&o(a.e57,"onClick",r);let u=d;a.e58.$p.value!==u&&o(a.e58,"value",u),o(a.e58,"onChange",e=>s(e.target.value));let h=p;a.e58.$p.onBlur!==h&&o(a.e58,"onBlur",h),o(a.e58,"onKeyDown",t=>{27===t.which?(e.onCancel(event),s(e.todo.title)):13===event.which&&p()}),l.pHC()}}function h(e,l,c){var i=c||{$p:e,$:e=>{h(e,l,i)}};l.sHC(i);let a=(p=e.count,u="item",1===p?u:u+"s");var p,u;let m=null;if(i!==c)return t(i,"e59","button",{className:"clear-completed",onClick:e.onClearCompleted}),n(i,"e59",["Clear completed"]),e.completedCount>0&&(m=i.e59),t(i,"e60","footer",{className:"footer"}),t(i,"e61","span",{className:"todo-count"}),t(i,"e62","strong"),n(i,"e62",[e.count]),n(i,"e61",[i.e62," ",a," left"]),t(i,"e63","ul",{className:"filters"}),t(i,"e64","li"),t(i,"e65","a",{href:"#/",className:e.nowShowing===r?"selected":""}),n(i,"e65",["All"]),n(i,"e64",[i.e65]),t(i,"e66","li"),t(i,"e67","a",{href:"#/active",className:e.nowShowing===d?"selected":""}),n(i,"e67",["Active"]),n(i,"e66",[i.e67]),t(i,"e68","li"),t(i,"e69","a",{href:"#/completed",className:e.nowShowing===s?"selected":""}),n(i,"e69",["Completed"]),n(i,"e68",[i.e69]),n(i,"e63",[i.e64,i.e66,i.e68]),n(i,"e60",[i.e61,i.e63,m]),i.$r=i.e60,l.pHC(),i;{let t=e.onClearCompleted;i.e59.$p.onClick!==t&&o(i.e59,"onClick",t),e.completedCount>0&&(m=i.e59),n(i,"e62",[e.count]),n(i,"e61",[i.e62," ",a," left"]);let c=e.nowShowing===r?"selected":"";i.e65.$p.className!==c&&o(i.e65,"className",c);let p=e.nowShowing===d?"selected":"";i.e67.$p.className!==p&&o(i.e67,"className",p);let u=e.nowShowing===s?"selected":"";i.e69.$p.className!==u&&o(i.e69,"className",u),n(i,"e60",[i.e61,i.e63,m]),l.pHC()}}function m(e){switch(e){case"#/active":return d;case"#/completed":return s;default:return r}}!function(e,t,o,l){let n=o(l,t);if(n)e.innerHTML="",e.appendChild(n.$r._)}(document.getElementById("app"),c,function l(c,r,g){var C=g||{$p:c,$:e=>{l(e,r,C)}};r.sHC(C);let[f,v]=i(""),[w,$]=i(m(window.location.hash)),[y,N]=function(){let[e,t]=i(JSON.parse(window.localStorage.getItem("__todos__")||"null")||[{id:p(),title:"todo 1",completed:!1},{id:p(),title:"todo 2",completed:!1},{id:p(),title:"todo 3",completed:!0}]);return[e,e=>{window.localStorage.setItem("__todos__",JSON.stringify(e)),t(e)}]}(),[k,_]=i(null);a(()=>{let e=()=>{$(m(window.location.hash))};return window.addEventListener("hashchange",e),()=>window.removeEventListener("hashchange",e)});let x=y.filter(function(e){switch(w){case d:return!e.completed;case s:return e.completed;default:return!0}},this).map(function(t,o){var l={};if(r.sHC(l),l!==g)return e(r,l,"c6",u,{key:t.id,todo:t,editing:k===t.id,onEdit:()=>_(t.id),onSave:e=>{y.splice(o,1,{...t,title:e}),N(y),_(null)},onCancel:()=>_(null),onToggle:()=>{y.splice(o,1,{...t,completed:!t.completed}),N(y)},onDestroy:()=>{y.splice(o,1),N(y)}}),l.$r=l.c6,r.pHC(),l;l.c6.$({key:t.id,todo:t,editing:k===t.id,onEdit:()=>_(t.id),onSave:e=>{y.splice(o,1,{...t,title:e}),N(y),_(null)},onCancel:()=>_(null),onToggle:()=>{y.splice(o,1,{...t,completed:!t.completed}),N(y)},onDestroy:()=>{y.splice(o,1),N(y)}}),r.pHC()},this),H=y.reduce(function(e,t){return t.completed?e:e+1},0),b=y.length-H,S=null,D=null;if(C!==g)return t(C,"e70","section",{className:"main"}),t(C,"e71","input",{id:"toggle-all",className:"toggle-all",type:"checkbox",checked:0===H,onChange:()=>{let e=y.every(e=>e.completed);N(y.map(t=>({...t,completed:!e})))}}),n(C,"e71"),t(C,"e72","label",{for:"toggle-all"}),n(C,"e72"),t(C,"e73","ul",{className:"todo-list"}),n(C,"e73",[x]),n(C,"e70",[C.e71,C.e72,C.e73]),y.length&&(S=C.e70),e(r,C,"c7",h,{count:H,completedCount:b,nowShowing:w,onClearCompleted:()=>N(y.filter(e=>!e.completed))}),(H||b)&&(D=C.c7),t(C,"e74","div"),t(C,"e75","header",{className:"header"}),t(C,"e76","h1"),n(C,"e76",["todos"]),t(C,"e77","input",{className:"new-todo",placeholder:"What needs to be done?",autoFocus:!0,value:f,onChange:e=>v(e.target.value),onKeyDown:e=>{13===e.keyCode&&f&&(e.preventDefault(),y.push({id:p(),title:f,completed:!1}),N(y),v(""))}}),n(C,"e77"),n(C,"e75",[C.e76,C.e77]),n(C,"e74",[C.e75,S,D]),C.$r=C.e74,r.pHC(),C;{let e=0===H;C.e71.$p.checked!==e&&o(C.e71,"checked",e),o(C.e71,"onChange",()=>{let e=y.every(e=>e.completed);N(y.map(t=>({...t,completed:!e})))}),n(C,"e73",[x]),y.length&&(S=C.e70),C.c7.$({count:H,completedCount:b,nowShowing:w,onClearCompleted:()=>N(y.filter(e=>!e.completed))}),(H||b)&&(D=C.c7);let t=f;C.e77.$p.value!==t&&o(C.e77,"value",t),o(C.e77,"onChange",e=>v(e.target.value)),o(C.e77,"onKeyDown",e=>{13===e.keyCode&&f&&(e.preventDefault(),y.push({id:p(),title:f,completed:!1}),N(y),v(""))}),n(C,"e74",[C.e75,S,D]),r.pHC()}},null);