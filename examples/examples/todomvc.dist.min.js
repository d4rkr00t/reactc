function e(e,t,o,l,n){if(t[o])return void(t[o].$&&t[o].$(n));let c=l(n,e);t[o]=c}function t(e,t,o,n){if(e[t])return void l(e[t],n);let c={_:document.createElement(o),$p:n,$h:{}};l(c,n),e[t]=c}function o(e,t,o){if("style"===t)e._[t]=Object.keys(o).map(e=>{let t=o[e],l=e.replace(/([A-Z])/g,e=>"-"+e.toLowerCase());return l+": "+("number"!=typeof t||-1!==["opacity","flex","z-index"].indexOf(l)||l.match(/^--/)?""+t:t+"px")}).join(";");else if(t.startsWith("on")){let l=t.replace("on","").toLowerCase();"change"===l&&"INPUT"===e._.nodeName&&"text"===e._.type&&(l="input"),e.$p[t]&&e._.removeEventListener(l,e.$p[t]),e._.addEventListener(l,o)}else["value","checked","className"].indexOf(t)>=0?e._[t]=o:o?e._.setAttribute(t,o):e._.removeAttribute(t);e.$p[t]=o}function l(e,t){t&&(Object.keys(t).forEach(l=>o(e,l,t[l])),e.$p=t)}function n(e,t,o,l){let c=e[t]._,i=l||0,a=Array.from(c.childNodes);if(o&&(a.length||o.length))for(o.forEach(e=>{if(null!==e){if(function(e){return"string"==typeof e||"number"==typeof e}(e))return a[i]?(3===a[i].nodeType?a[i].textContent!==e&&(a[i].textContent=e):c.replaceChild(document.createTextNode(e),a[i]),void i++):(i++,c.appendChild(document.createTextNode(e)));if(Array.isArray(e))return n({$r:{_:c}},"$r",e,i),void(i+=e.length);{let t=e.$r?e.$r.$r?e.$r.$r._:e.$r._:e._;if(a[i]){if(a[i]!==t)try{c.replaceChild(t,a[i])}catch(e){}return void i++}if(a[i]){if(a[i]!==t)try{c.replaceChild(t,a[i])}catch(e){}return void i++}return c.appendChild(t),void i++}}a[i]&&(c.removeChild(a[i]),i++)});i<a.length;){if(a[i].parentNode)try{a[i].parentNode.removeChild(a[i])}catch(e){}i++}}let c=(()=>{let e=[];return{sHC:t=>e.push({ctx:t,pos:0}),pHC:()=>{e.pop().pos=0},gHC:()=>e[e.length-1]}})(),[i,a]=(()=>{let e=new Map;let t=new Map;return[function(t){let o=c.gHC(),l=e.get(o.ctx)||[],n=o.pos,i=void 0===l[n]?t:l[n];return o.pos+=1,l[n]=i,e.set(o.ctx,l),[i,t=>{let l=e.get(o.ctx)||[];l[n]=t,e.set(o.ctx,l),o.ctx.$&&o.ctx.$(o.ctx.$p)}]},function(e){let o=c.gHC(),l=t.get(o.ctx)||[],n=o.pos,i=l[n];i&&i();let a=e();a&&(l[n]=a,t.set(o.ctx,l))}]})();const r="all",d="active",s="completed";function p(){var e,t,o="";for(e=0;e<32;e++)t=16*Math.random()|0,8!==e&&12!==e&&16!==e&&20!==e||(o+="-"),o+=(12===e?4:16===e?3&t|8:t).toString(16);return o}function u(e,l,c){var a=c||{$p:e,$:e=>{u(e,l,a)}};l.sHC(a);let r=[];e.todo.completed&&r.push("completed"),e.editing&&r.push("editing");let[d,s]=i(e.todo.title),p=()=>{let t=d.trim();t?e.onSave(t):e.onDestroy()};if(a!==c)return t(a,"e1","li",{className:r.join(" ")}),t(a,"e2","div",{className:"view"}),t(a,"e3","input",{className:"toggle",type:"checkbox",checked:e.todo.completed,onChange:e.onToggle}),n(a,"e3"),t(a,"e4","label",{onDblclick:e.onEdit}),n(a,"e4",[e.todo.title]),t(a,"e5","button",{className:"destroy",onClick:e.onDestroy}),n(a,"e5"),n(a,"e2",[a.e3,a.e4,a.e5]),t(a,"e6","input",{className:"edit",value:d,onChange:e=>s(e.target.value),onBlur:p,onKeyDown:t=>{27===t.which?(e.onCancel(event),s(e.todo.title)):13===event.which&&p()}}),n(a,"e6"),n(a,"e1",[a.e2,a.e6]),a.$r=a.e1,l.pHC(),a;{let t=e.todo.completed;a.e3.$p.checked!==t&&o(a.e3,"checked",t);let c=e.onToggle;a.e3.$p.onChange!==c&&o(a.e3,"onChange",c);let i=e.onEdit;a.e4.$p.onDoubleClick!==i&&o(a.e4,"onDoubleClick",i),n(a,"e4",[e.todo.title]);let r=e.onDestroy;a.e5.$p.onClick!==r&&o(a.e5,"onClick",r);let u=d;a.e6.$p.value!==u&&o(a.e6,"value",u),o(a.e6,"onChange",e=>s(e.target.value));let h=p;a.e6.$p.onBlur!==h&&o(a.e6,"onBlur",h),o(a.e6,"onKeyDown",t=>{27===t.which?(e.onCancel(event),s(e.todo.title)):13===event.which&&p()}),l.pHC()}}function h(e,l,c){var i=c||{$p:e,$:e=>{h(e,l,i)}};l.sHC(i);let a=(p=e.count,u="item",1===p?u:u+"s");var p,u;let m=null;if(i!==c)return t(i,"e7","button",{className:"clear-completed",onClick:e.onClearCompleted}),n(i,"e7",["Clear completed"]),e.completedCount>0&&(m=i.e7),t(i,"e8","footer",{className:"footer"}),t(i,"e9","span",{className:"todo-count"}),t(i,"e10","strong"),n(i,"e10",[e.count]),n(i,"e9",[i.e10," ",a," left"]),t(i,"e11","ul",{className:"filters"}),t(i,"e12","li"),t(i,"e13","a",{href:"#/",className:e.nowShowing===r?"selected":""}),n(i,"e13",["All"]),n(i,"e12",[i.e13]),t(i,"e14","li"),t(i,"e15","a",{href:"#/active",className:e.nowShowing===d?"selected":""}),n(i,"e15",["Active"]),n(i,"e14",[i.e15]),t(i,"e16","li"),t(i,"e17","a",{href:"#/completed",className:e.nowShowing===s?"selected":""}),n(i,"e17",["Completed"]),n(i,"e16",[i.e17]),n(i,"e11",[i.e12,i.e14,i.e16]),n(i,"e8",[i.e9,i.e11,m]),i.$r=i.e8,l.pHC(),i;{let t=e.onClearCompleted;i.e7.$p.onClick!==t&&o(i.e7,"onClick",t),e.completedCount>0&&(m=i.e7),n(i,"e10",[e.count]),n(i,"e9",[i.e10," ",a," left"]);let c=e.nowShowing===r?"selected":"";i.e13.$p.className!==c&&o(i.e13,"className",c);let p=e.nowShowing===d?"selected":"";i.e15.$p.className!==p&&o(i.e15,"className",p);let u=e.nowShowing===s?"selected":"";i.e17.$p.className!==u&&o(i.e17,"className",u),n(i,"e8",[i.e9,i.e11,m]),l.pHC()}}function m(e){switch(e){case"#/active":return d;case"#/completed":return s;default:return r}}!function(e,t,o,l){let n=o(l,t);if(n)e.innerHTML="",e.appendChild(n.$r._)}(document.getElementById("app"),c,function l(c,r,g){var C=g||{$p:c,$:e=>{l(e,r,C)}};r.sHC(C);let[f,v]=i(""),[w,$]=i(m(window.location.hash)),[y,N]=function(){let[e,t]=i(JSON.parse(window.localStorage.getItem("__todos__")||"null")||[{id:p(),title:"todo 1",completed:!1},{id:p(),title:"todo 2",completed:!1},{id:p(),title:"todo 3",completed:!0}]);return[e,e=>{window.localStorage.setItem("__todos__",JSON.stringify(e)),t(e)}]}(),[k,_]=i(null);a(()=>{let e=()=>{$(m(window.location.hash))};return window.addEventListener("hashchange",e),()=>window.removeEventListener("hashchange",e)});let x=y.filter(function(e){switch(w){case d:return!e.completed;case s:return e.completed;default:return!0}},this).map(function(t,o){var l={};if(r.sHC(l),l!==g)return e(r,l,"c1",u,{key:t.id,todo:t,editing:k===t.id,onEdit:()=>_(t.id),onSave:e=>{y.splice(o,1,{...t,title:e}),N(y),_(null)},onCancel:()=>_(null),onToggle:()=>{y.splice(o,1,{...t,completed:!t.completed}),N(y)},onDestroy:()=>{y.splice(o,1),N(y)}}),l.$r=l.c1,r.pHC(),l;l.c1.$({key:t.id,todo:t,editing:k===t.id,onEdit:()=>_(t.id),onSave:e=>{y.splice(o,1,{...t,title:e}),N(y),_(null)},onCancel:()=>_(null),onToggle:()=>{y.splice(o,1,{...t,completed:!t.completed}),N(y)},onDestroy:()=>{y.splice(o,1),N(y)}}),r.pHC()},this),H=y.reduce(function(e,t){return t.completed?e:e+1},0),b=y.length-H,S=null,D=null;if(C!==g)return t(C,"e18","section",{className:"main"}),t(C,"e19","input",{id:"toggle-all",className:"toggle-all",type:"checkbox",checked:0===H,onChange:()=>{let e=y.every(e=>e.completed);N(y.map(t=>({...t,completed:!e})))}}),n(C,"e19"),t(C,"e20","label",{for:"toggle-all"}),n(C,"e20"),t(C,"e21","ul",{className:"todo-list"}),n(C,"e21",[x]),n(C,"e18",[C.e19,C.e20,C.e21]),y.length&&(S=C.e18),e(r,C,"c2",h,{count:H,completedCount:b,nowShowing:w,onClearCompleted:()=>N(y.filter(e=>!e.completed))}),(H||b)&&(D=C.c2),t(C,"e22","div"),t(C,"e23","header",{className:"header"}),t(C,"e24","h1"),n(C,"e24",["todos"]),t(C,"e25","input",{className:"new-todo",placeholder:"What needs to be done?",autoFocus:!0,value:f,onChange:e=>v(e.target.value),onKeyDown:e=>{13===e.keyCode&&f&&(e.preventDefault(),y.push({id:p(),title:f,completed:!1}),N(y),v(""))}}),n(C,"e25"),n(C,"e23",[C.e24,C.e25]),n(C,"e22",[C.e23,S,D]),C.$r=C.e22,r.pHC(),C;{let e=0===H;C.e19.$p.checked!==e&&o(C.e19,"checked",e),o(C.e19,"onChange",()=>{let e=y.every(e=>e.completed);N(y.map(t=>({...t,completed:!e})))}),n(C,"e21",[x]),y.length&&(S=C.e18),C.c2.$({count:H,completedCount:b,nowShowing:w,onClearCompleted:()=>N(y.filter(e=>!e.completed))}),(H||b)&&(D=C.c2);let t=f;C.e25.$p.value!==t&&o(C.e25,"value",t),o(C.e25,"onChange",e=>v(e.target.value)),o(C.e25,"onKeyDown",e=>{13===e.keyCode&&f&&(e.preventDefault(),y.push({id:p(),title:f,completed:!1}),N(y),v(""))}),n(C,"e22",[C.e23,S,D]),r.pHC()}},null);