function e(e,t){e.appendChild(t)}function t(e,t,l,o,n){if(t[l])return void(t[l].$&&t[l].$(n));let c=o(n,e);t[l]=c}function l(e,t,l,o){if(e[t])return void i(e[t],o);let n={_:document.createElement(l),$p:o,$h:{}};i(n,o),e[t]=n}function o(e,t,l){l?e._.setAttribute(t,l):e._.removeAttribute(t),e.$p[t]=l}function n(e,t,l){e._[t]=l,e.$p[t]=l}function c(e,t,l){e.$p[t]&&e._.removeEventListener(t,e.$p[t]),e._.addEventListener(t,l),e.$p[t]=l}function i(e,t){t&&(t.$&&Object.keys(t.$).forEach(l=>o(e,l,t.$[l])),t.$e&&Object.keys(t.$e).forEach(l=>c(e,l,t.$e[l])),t.$p&&Object.keys(t.$p).forEach(l=>n(e,l,t.$p[l])),e.$p=t)}function r(t,l,o,n){let c=t[l]._,i=n||0,d=Array.from(c.childNodes);if(o&&(d.length||o.length))for(o.forEach(t=>{if(null!==t){if(function(e){return"string"==typeof e||"number"==typeof e}(t))return d[i]?(3===d[i].nodeType?d[i].textContent!==t&&(d[i].textContent=t):c.replaceChild(document.createTextNode(t),d[i]),void i++):(i++,e(c,document.createTextNode(t)));if(Array.isArray(t))return r({$r:{_:c}},"$r",t,i),void(i+=t.length);{let l=t.$r?t.$r.$r?t.$r.$r._:t.$r._:t._;if(d[i]){if(d[i]!==l)try{c.replaceChild(l,d[i])}catch(e){}return void i++}if(d[i]){if(d[i]!==l)try{c.replaceChild(l,d[i])}catch(e){}return void i++}return e(c,l),void i++}}d[i]&&(c.removeChild(d[i]),i++)});i<d.length;){if(d[i].parentNode)try{d[i].parentNode.removeChild(d[i])}catch(e){}i++}}let d=(()=>{let e=[];return{sHC:t=>e.push({ctx:t,pos:0}),pHC:()=>{e.pop().pos=0},gHC:()=>e[e.length-1]}})(),[a,p]=(()=>{let e=new Map;let t=new Map;return[function(t){let l=d.gHC(),o=e.get(l.ctx)||[],n=l.pos,c=void 0===o[n]?t:o[n];return l.pos+=1,o[n]=c,e.set(l.ctx,o),[c,t=>{let o=e.get(l.ctx)||[];o[n]=t,e.set(l.ctx,o),l.ctx.$&&l.ctx.$(l.ctx.$p)}]},function(e){let l=d.gHC(),o=t.get(l.ctx)||[],n=l.pos,c=o[n];c&&c();let i=e();i&&(o[n]=i,t.set(l.ctx,o))}]})();const s="all",u="active",$="completed";function h(){var e,t,l="";for(e=0;e<32;e++)t=16*Math.random()|0,8!==e&&12!==e&&16!==e&&20!==e||(l+="-"),l+=(12===e?4:16===e?3&t|8:t).toString(16);return l}function f(e,t,o){var i=o||{$p:e,$:e=>{f(e,t,i)}};t.sHC(i);let d=[];e.todo.completed&&d.push("completed"),e.editing&&d.push("editing");let[p,s]=a(e.todo.title),u=()=>{let t=p.trim();t?e.onSave(t):e.onDestroy()};if(i!==o)return l(i,"e53","li",{$:{class:d.join(" ")}}),l(i,"e54","div",{$:{class:"view"}}),l(i,"e55","input",{$:{class:"toggle",type:"checkbox"},$e:{change:e.onToggle},$p:{checked:e.todo.completed}}),r(i,"e55"),l(i,"e56","label",{$e:{dblclick:e.onEdit}}),r(i,"e56",[e.todo.title]),l(i,"e57","button",{$:{class:"destroy"},$e:{click:e.onDestroy}}),r(i,"e57"),r(i,"e54",[i.e55,i.e56,i.e57]),l(i,"e58","input",{$:{class:"edit"},$e:{input:e=>s(e.target.value),blur:u,keydown:t=>{27===t.which?(e.onCancel(event),s(e.todo.title)):13===event.which&&u()}},$p:{value:p}}),r(i,"e58"),r(i,"e53",[i.e54,i.e58]),i.$r=i.e53,t.pHC(),i;{let l=e.todo.completed;i.e55.$p.checked!==l&&n(i.e55,"checked",l);let o=e.onToggle;i.e55.$p.change!==o&&c(i.e55,"change",o);let d=e.onEdit;i.e56.$p.dblclick!==d&&c(i.e56,"dblclick",d),r(i,"e56",[e.todo.title]);let a=e.onDestroy;i.e57.$p.click!==a&&c(i.e57,"click",a);let $=p;i.e58.$p.value!==$&&n(i.e58,"value",$),c(i.e58,"input",e=>s(e.target.value));let h=u;i.e58.$p.blur!==h&&c(i.e58,"blur",h),c(i.e58,"keydown",t=>{27===t.which?(e.onCancel(event),s(e.todo.title)):13===event.which&&u()}),t.pHC()}}function g(e,t,n){var i=n||{$p:e,$:e=>{g(e,t,i)}};t.sHC(i);let d=(a=e.count,p="item",1===a?p:p+"s");var a,p;let h=null;if(i!==n)return l(i,"e59","button",{$:{class:"clear-completed"},$e:{click:e.onClearCompleted}}),r(i,"e59",["Clear completed"]),e.completedCount>0&&(h=i.e59),l(i,"e60","footer",{$:{class:"footer"}}),l(i,"e61","span",{$:{class:"todo-count"}}),l(i,"e62","strong"),r(i,"e62",[e.count]),r(i,"e61",[i.e62," ",d," left"]),l(i,"e63","ul",{$:{class:"filters"}}),l(i,"e64","li"),l(i,"e65","a",{$:{href:"#/",class:e.nowShowing===s?"selected":""}}),r(i,"e65",["All"]),r(i,"e64",[i.e65]),l(i,"e66","li"),l(i,"e67","a",{$:{href:"#/active",class:e.nowShowing===u?"selected":""}}),r(i,"e67",["Active"]),r(i,"e66",[i.e67]),l(i,"e68","li"),l(i,"e69","a",{$:{href:"#/completed",class:e.nowShowing===$?"selected":""}}),r(i,"e69",["Completed"]),r(i,"e68",[i.e69]),r(i,"e63",[i.e64,i.e66,i.e68]),r(i,"e60",[i.e61,i.e63,h]),i.$r=i.e60,t.pHC(),i;{let l=e.onClearCompleted;i.e59.$p.click!==l&&c(i.e59,"click",l),e.completedCount>0&&(h=i.e59),r(i,"e62",[e.count]),r(i,"e61",[i.e62," ",d," left"]);let n=e.nowShowing===s?"selected":"";i.e65.$p.class!==n&&o(i.e65,"class",n);let a=e.nowShowing===u?"selected":"";i.e67.$p.class!==a&&o(i.e67,"class",a);let p=e.nowShowing===$?"selected":"";i.e69.$p.class!==p&&o(i.e69,"class",p),r(i,"e60",[i.e61,i.e63,h]),t.pHC()}}function m(e){switch(e){case"#/active":return u;case"#/completed":return $;default:return s}}!function(t,l,o,n){let c=o(n,l);if(c)t.innerHTML="",e(t,c.$r._)}(document.getElementById("app"),d,function e(o,i,d){var s=d||{$p:o,$:t=>{e(t,i,s)}};i.sHC(s);let[v,C]=a(""),[w,y]=a(m(window.location.hash)),[k,_]=function(){let[e,t]=a(JSON.parse(window.localStorage.getItem("__todos__")||"null")||[{id:h(),title:"todo 1",completed:!1},{id:h(),title:"todo 2",completed:!1},{id:h(),title:"todo 3",completed:!0}]);return[e,e=>{window.localStorage.setItem("__todos__",JSON.stringify(e)),t(e)}]}(),[b,H]=a(null);p(()=>{let e=()=>{y(m(window.location.hash))};return window.addEventListener("hashchange",e),()=>window.removeEventListener("hashchange",e)});let x=k.filter(function(e){switch(w){case u:return!e.completed;case $:return e.completed;default:return!0}},this).map(function(e,l){var o={};if(i.sHC(o),o!==d)return t(i,o,"c6",f,{key:e.id,todo:e,editing:b===e.id,onEdit:()=>H(e.id),onSave:t=>{k.splice(l,1,{...e,title:t}),_(k),H(null)},onCancel:()=>H(null),onToggle:()=>{k.splice(l,1,{...e,completed:!e.completed}),_(k)},onDestroy:()=>{k.splice(l,1),_(k)}}),o.$r=o.c6,i.pHC(),o;o.c6.$({key:e.id,todo:e,editing:b===e.id,onEdit:()=>H(e.id),onSave:t=>{k.splice(l,1,{...e,title:t}),_(k),H(null)},onCancel:()=>H(null),onToggle:()=>{k.splice(l,1,{...e,completed:!e.completed}),_(k)},onDestroy:()=>{k.splice(l,1),_(k)}}),i.pHC()},this),S=k.reduce(function(e,t){return t.completed?e:e+1},0),E=k.length-S,T=null,A=null;if(s!==d)return l(s,"e70","section",{$:{class:"main"}}),l(s,"e71","input",{$:{id:"toggle-all",class:"toggle-all",type:"checkbox"},$e:{change:()=>{let e=k.every(e=>e.completed);_(k.map(t=>({...t,completed:!e})))}},$p:{checked:0===S}}),r(s,"e71"),l(s,"e72","label",{$:{for:"toggle-all"}}),r(s,"e72"),l(s,"e73","ul",{$:{class:"todo-list"}}),r(s,"e73",[x]),r(s,"e70",[s.e71,s.e72,s.e73]),k.length&&(T=s.e70),t(i,s,"c7",g,{count:S,completedCount:E,nowShowing:w,onClearCompleted:()=>_(k.filter(e=>!e.completed))}),(S||E)&&(A=s.c7),l(s,"e74","div"),l(s,"e75","header",{$:{class:"header"}}),l(s,"e76","h1"),r(s,"e76",["todos"]),l(s,"e77","input",{$:{class:"new-todo",placeholder:"What needs to be done?",autoFocus:!0},$e:{input:e=>C(e.target.value),keydown:e=>{13===e.keyCode&&v&&(e.preventDefault(),k.push({id:h(),title:v,completed:!1}),_(k),C(""))}},$p:{value:v}}),r(s,"e77"),r(s,"e75",[s.e76,s.e77]),r(s,"e74",[s.e75,T,A]),s.$r=s.e74,i.pHC(),s;{let e=0===S;s.e71.$p.checked!==e&&n(s.e71,"checked",e),c(s.e71,"change",()=>{let e=k.every(e=>e.completed);_(k.map(t=>({...t,completed:!e})))}),r(s,"e73",[x]),k.length&&(T=s.e70),s.c7.$({count:S,completedCount:E,nowShowing:w,onClearCompleted:()=>_(k.filter(e=>!e.completed))}),(S||E)&&(A=s.c7);let t=v;s.e77.$p.value!==t&&n(s.e77,"value",t),c(s.e77,"input",e=>C(e.target.value)),c(s.e77,"keydown",e=>{13===e.keyCode&&v&&(e.preventDefault(),k.push({id:h(),title:v,completed:!1}),_(k),C(""))}),r(s,"e74",[s.e75,T,A]),i.pHC()}},null);