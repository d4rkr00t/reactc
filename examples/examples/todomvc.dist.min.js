function e(e,t,o,l,n){if(t[o])return void(t[o].$&&t[o].$(n));let c=l(n,e);t[o]=c}function t(e,t,o,n){if(e[t])return void l(e[t],n);let c={_:document.createElement(o),$p:n,$h:{}};l(c,n),e[t]=c}function o(e,t,o){if("style"===t)e._.setAttribute(t,Object.keys(o).map(e=>{let t=o[e];return e.replace(/([A-Z])/g,e=>"-"+e.toLowerCase())+": "+("number"==typeof t?t+"px":t)}).join(";"));else if(t.startsWith("on")){let l=t.replace("on","").toLowerCase();"change"===l&&"INPUT"===e._.nodeName&&"text"===e._.type&&(l="input"),e.$p[t]&&e._.removeEventListener(l,e.$p[t]),e._.addEventListener(l,o)}else"value"===t?e._.value=o:"checked"===t?e._.checked=!1!==o:e._.setAttribute(t,o);e.$p[t]=o}function l(e,t){t&&(Object.keys(t).forEach(l=>o(e,l,t[l])),e.$p=t)}function n(e,t,o,l){let c=e[t]._,i=l||0,r=Array.from(c.childNodes);if(r.length||o.length)for(o.forEach(e=>{if(null!==e){if(function(e){return"string"==typeof e||"number"==typeof e}(e))return r[i]?(3===r[i].nodeType?r[i].textContent!==e&&(r[i].textContent=e):c.replaceChild(document.createTextNode(e),r[i]),void i++):(i++,c.appendChild(document.createTextNode(e)));if(Array.isArray(e))return n({$r:{_:c}},"$r",e,i),void(i+=e.length);{let t=e.$r?e.$r.$r?e.$r.$r._:e.$r._:e._;if(r[i]){if(r[i]!==t)try{c.replaceChild(t,r[i])}catch(e){}return void i++}if(r[i]){if(r[i]!==t)try{c.replaceChild(t,r[i])}catch(e){}return void i++}return c.appendChild(t),void i++}}r[i]&&(c.removeChild(r[i]),i++)});i<r.length;){if(r[i].parentNode)try{r[i].parentNode.removeChild(r[i])}catch(e){}i++}}let c=(()=>{let e=[];return{sHC:t=>e.push({ctx:t,pos:0}),pHC:()=>{e.pop().pos=0},gHC:()=>e[e.length-1]}})(),[i,r]=(()=>{let e=new Map;let t=new Map;return[function(t){let o=c.gHC(),l=e.get(o.ctx)||[],n=o.pos,i=void 0===l[n]?t:l[n];return o.pos+=1,l[n]=i,e.set(o.ctx,l),[i,t=>{let l=e.get(o.ctx)||[];l[n]=t,e.set(o.ctx,l),o.ctx.$&&o.ctx.$(o.ctx.$p)}]},function(e){let o=c.gHC(),l=t.get(o.ctx)||[],n=o.pos,i=l[n];i&&i();let r=e();r&&(l[n]=r,t.set(o.ctx,l))}]})();const a="all",d="active",p="completed";function s(){var e,t,o="";for(e=0;e<32;e++)t=16*Math.random()|0,8!==e&&12!==e&&16!==e&&20!==e||(o+="-"),o+=(12===e?4:16===e?3&t|8:t).toString(16);return o}function u(e,l,c){var r=c||{$p:e,$:e=>{u(e,l,r)}};l.sHC(r);let a=[];e.todo.completed&&a.push("completed"),e.editing&&a.push("editing");let[d,p]=i(e.todo.title),s=()=>{let t=d.trim();t?e.onSave(t):e.onDestroy()};if(r!==c)return t(r,"e53","li",{class:a.join(" ")}),t(r,"e54","div",{class:"view"}),t(r,"e55","input",{class:"toggle",type:"checkbox",checked:e.todo.completed,onChange:e.onToggle}),n(r,"e55",[]),t(r,"e56","label",{onDblclick:e.onEdit}),n(r,"e56",[e.todo.title]),t(r,"e57","button",{class:"destroy",onClick:e.onDestroy}),n(r,"e57",[]),n(r,"e54",[r.e55,r.e56,r.e57]),t(r,"e58","input",{class:"edit",value:d,onChange:e=>p(e.target.value),onBlur:s,onKeyDown:t=>{27===t.which?(e.onCancel(event),p(e.todo.title)):13===event.which&&s()}}),n(r,"e58",[]),n(r,"e53",[r.e54,r.e58]),r.$r=r.e53,l.pHC(),r;{let t=e.todo.completed;r.e55.$p.checked!==t&&o(r.e55,"checked",t);let c=e.onToggle;r.e55.$p.onChange!==c&&o(r.e55,"onChange",c);let i=e.onEdit;r.e56.$p.onDoubleClick!==i&&o(r.e56,"onDoubleClick",i),n(r,"e56",[e.todo.title]);let a=e.onDestroy;r.e57.$p.onClick!==a&&o(r.e57,"onClick",a);let u=d;r.e58.$p.value!==u&&o(r.e58,"value",u);let h=e=>p(e.target.value);r.e58.$p.onChange!==h&&o(r.e58,"onChange",h);let g=s;r.e58.$p.onBlur!==g&&o(r.e58,"onBlur",g);let C=t=>{27===t.which?(e.onCancel(event),p(e.todo.title)):13===event.which&&s()};r.e58.$p.onKeyDown!==C&&o(r.e58,"onKeyDown",C),l.pHC()}}function h(e,l,c){var i=c||{$p:e,$:e=>{h(e,l,i)}};l.sHC(i);let r=(s=e.count,u="item",1===s?u:u+"s");var s,u;let g=null;if(i!==c)return t(i,"e59","button",{class:"clear-completed",onClick:e.onClearCompleted}),n(i,"e59",["Clear completed"]),e.completedCount>0&&(g=i.e59),t(i,"e60","footer",{class:"footer"}),t(i,"e61","span",{class:"todo-count"}),t(i,"e62","strong"),n(i,"e62",[e.count]),n(i,"e61",[i.e62," ",r," left"]),t(i,"e63","ul",{class:"filters"}),t(i,"e64","li"),t(i,"e65","a",{href:"#/",class:e.nowShowing===a?"selected":""}),n(i,"e65",["All"]),n(i,"e64",[i.e65]),t(i,"e66","li"),t(i,"e67","a",{href:"#/active",class:e.nowShowing===d?"selected":""}),n(i,"e67",["Active"]),n(i,"e66",[i.e67]),t(i,"e68","li"),t(i,"e69","a",{href:"#/completed",class:e.nowShowing===p?"selected":""}),n(i,"e69",["Completed"]),n(i,"e68",[i.e69]),n(i,"e63",[i.e64,i.e66,i.e68]),n(i,"e60",[i.e61,i.e63,g]),i.$r=i.e60,l.pHC(),i;{let t=e.onClearCompleted;i.e59.$p.onClick!==t&&o(i.e59,"onClick",t),e.completedCount>0&&(g=i.e59),n(i,"e62",[e.count]),n(i,"e61",[i.e62," ",r," left"]);let c=e.nowShowing===a?"selected":"";i.e65.$p.className!==c&&o(i.e65,"className",c);let s=e.nowShowing===d?"selected":"";i.e67.$p.className!==s&&o(i.e67,"className",s);let u=e.nowShowing===p?"selected":"";i.e69.$p.className!==u&&o(i.e69,"className",u),n(i,"e60",[i.e61,i.e63,g]),l.pHC()}}function g(e){switch(e){case"#/active":return d;case"#/completed":return p;default:return a}}!function(e,t,o,l){let n=o(l,t);n&&(e.innerHTML="",e.appendChild(n.$r._))}(document.getElementById("app"),c,function l(c,a,C){var m=C||{$p:c,$:e=>{l(e,a,m)}};a.sHC(m);let[f,v]=i(""),[$,w]=i(g(window.location.hash)),[y,k]=function(){let[e,t]=i(JSON.parse(window.localStorage.getItem("__todos__")||"null")||[{id:s(),title:"todo 1",completed:!1},{id:s(),title:"todo 2",completed:!1},{id:s(),title:"todo 3",completed:!0}]);return[e,e=>{window.localStorage.setItem("__todos__",JSON.stringify(e)),t(e)}]}(),[_,x]=i(null);r(()=>{let e=()=>{w(g(window.location.hash))};return window.addEventListener("hashchange",e),()=>window.removeEventListener("hashchange",e)});let H=y.filter(function(e){switch($){case d:return!e.completed;case p:return e.completed;default:return!0}},this).map(function(t,o){var l={};if(a.sHC(l),l!==C)return e(a,l,"c6",u,{key:t.id,todo:t,editing:_===t.id,onEdit:()=>x(t.id),onSave:e=>{y.splice(o,1,{...t,title:e}),k(y),x(null)},onCancel:()=>x(null),onToggle:()=>{y.splice(o,1,{...t,completed:!t.completed}),k(y)},onDestroy:()=>{y.splice(o,1),k(y)}}),l.$r=l.c6,a.pHC(),l;l.c6.$({key:t.id,todo:t,editing:_===t.id,onEdit:()=>x(t.id),onSave:e=>{y.splice(o,1,{...t,title:e}),k(y),x(null)},onCancel:()=>x(null),onToggle:()=>{y.splice(o,1,{...t,completed:!t.completed}),k(y)},onDestroy:()=>{y.splice(o,1),k(y)}}),a.pHC()},this),b=y.reduce(function(e,t){return t.completed?e:e+1},0),D=y.length-b,S=null,N=null;if(m!==C)return t(m,"e70","section",{class:"main"}),t(m,"e71","input",{id:"toggle-all",class:"toggle-all",type:"checkbox",checked:0===b,onChange:()=>{let e=y.every(e=>e.completed);k(y.map(t=>({...t,completed:!e})))}}),n(m,"e71",[]),t(m,"e72","label",{for:"toggle-all"}),n(m,"e72",[]),t(m,"e73","ul",{class:"todo-list"}),n(m,"e73",[H]),n(m,"e70",[m.e71,m.e72,m.e73]),y.length&&(S=m.e70),e(a,m,"c7",h,{count:b,completedCount:D,nowShowing:$,onClearCompleted:()=>k(y.filter(e=>!e.completed))}),(b||D)&&(N=m.c7),t(m,"e74","div"),t(m,"e75","header",{class:"header"}),t(m,"e76","h1"),n(m,"e76",["todos"]),t(m,"e77","input",{class:"new-todo",placeholder:"What needs to be done?",autoFocus:!0,value:f,onChange:e=>v(e.target.value),onKeyDown:e=>{13===e.keyCode&&f&&(e.preventDefault(),y.push({id:s(),title:f,completed:!1}),k(y),v(""))}}),n(m,"e77",[]),n(m,"e75",[m.e76,m.e77]),n(m,"e74",[m.e75,S,N]),m.$r=m.e74,a.pHC(),m;{let e=0===b;m.e71.$p.checked!==e&&o(m.e71,"checked",e);let t=()=>{let e=y.every(e=>e.completed);k(y.map(t=>({...t,completed:!e})))};m.e71.$p.onChange!==t&&o(m.e71,"onChange",t),n(m,"e73",[H]),y.length&&(S=m.e70),m.c7.$({count:b,completedCount:D,nowShowing:$,onClearCompleted:()=>k(y.filter(e=>!e.completed))}),(b||D)&&(N=m.c7);let l=f;m.e77.$p.value!==l&&o(m.e77,"value",l);let c=e=>v(e.target.value);m.e77.$p.onChange!==c&&o(m.e77,"onChange",c);let i=e=>{13===e.keyCode&&f&&(e.preventDefault(),y.push({id:s(),title:f,completed:!1}),k(y),v(""))};m.e77.$p.onKeyDown!==i&&o(m.e77,"onKeyDown",i),n(m,"e74",[m.e75,S,N]),a.pHC()}},null);