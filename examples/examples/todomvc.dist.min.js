function e(e,t,o,l,n){if(t[o])return void(t[o].$&&t[o].$(n));let c=l(n,e);t[o]=c}function t(e,t,o,n){if(e[t])return void l(e[t],n);let c={_:document.createElement(o),$p:n,$h:{}};l(c,n),e[t]=c}function o(e,t,o){if("style"===t)e._[t]=Object.keys(o).map(e=>{let t=o[e];return e.replace(/([A-Z])/g,e=>"-"+e.toLowerCase())+": "+("number"==typeof t?t+"px":t)}).join(";");else if(t.startsWith("on")){let l=t.replace("on","").toLowerCase();"change"===l&&"INPUT"===e._.nodeName&&"text"===e._.type&&(l="input"),e.$p[t]&&e._.removeEventListener(l,e.$p[t]),e._.addEventListener(l,o)}else["value","checked","className"].indexOf(t)>=0?e._[t]=o:e._.setAttribute(t,o);e.$p[t]=o}function l(e,t){t&&(Object.keys(t).forEach(l=>o(e,l,t[l])),e.$p=t)}function n(e,t,o,l){let c=e[t]._,a=l||0,i=Array.from(c.childNodes);if(i.length||o.length)for(o.forEach(e=>{if(null!==e){if(function(e){return"string"==typeof e||"number"==typeof e}(e))return i[a]?(3===i[a].nodeType?i[a].textContent!==e&&(i[a].textContent=e):c.replaceChild(document.createTextNode(e),i[a]),void a++):(a++,c.appendChild(document.createTextNode(e)));if(Array.isArray(e))return n({$r:{_:c}},"$r",e,a),void(a+=e.length);{let t=e.$r?e.$r.$r?e.$r.$r._:e.$r._:e._;if(i[a]){if(i[a]!==t)try{c.replaceChild(t,i[a])}catch(e){}return void a++}if(i[a]){if(i[a]!==t)try{c.replaceChild(t,i[a])}catch(e){}return void a++}return c.appendChild(t),void a++}}i[a]&&(c.removeChild(i[a]),a++)});a<i.length;){if(i[a].parentNode)try{i[a].parentNode.removeChild(i[a])}catch(e){}a++}}let c=(()=>{let e=[];return{sHC:t=>e.push({ctx:t,pos:0}),pHC:()=>{e.pop().pos=0},gHC:()=>e[e.length-1]}})(),[a,i]=(()=>{let e=new Map;let t=new Map;return[function(t){let o=c.gHC(),l=e.get(o.ctx)||[],n=o.pos,a=void 0===l[n]?t:l[n];return o.pos+=1,l[n]=a,e.set(o.ctx,l),[a,t=>{let l=e.get(o.ctx)||[];l[n]=t,e.set(o.ctx,l),o.ctx.$&&o.ctx.$(o.ctx.$p)}]},function(e){let o=c.gHC(),l=t.get(o.ctx)||[],n=o.pos,a=l[n];a&&a();let i=e();i&&(l[n]=i,t.set(o.ctx,l))}]})();const r="all",d="active",s="completed";function p(){var e,t,o="";for(e=0;e<32;e++)t=16*Math.random()|0,8!==e&&12!==e&&16!==e&&20!==e||(o+="-"),o+=(12===e?4:16===e?3&t|8:t).toString(16);return o}function u(e,l,c){var i=c||{$p:e,$:e=>{u(e,l,i)}};l.sHC(i);let r=[];e.todo.completed&&r.push("completed"),e.editing&&r.push("editing");let[d,s]=a(e.todo.title),p=()=>{let t=d.trim();t?e.onSave(t):e.onDestroy()};if(i!==c)return t(i,"e53","li",{className:r.join(" ")}),t(i,"e54","div",{className:"view"}),t(i,"e55","input",{className:"toggle",type:"checkbox",checked:e.todo.completed,onChange:e.onToggle}),n(i,"e55",[]),t(i,"e56","label",{onDblclick:e.onEdit}),n(i,"e56",[e.todo.title]),t(i,"e57","button",{className:"destroy",onClick:e.onDestroy}),n(i,"e57",[]),n(i,"e54",[i.e55,i.e56,i.e57]),t(i,"e58","input",{className:"edit",value:d,onChange:e=>s(e.target.value),onBlur:p,onKeyDown:t=>{27===t.which?(e.onCancel(event),s(e.todo.title)):13===event.which&&p()}}),n(i,"e58",[]),n(i,"e53",[i.e54,i.e58]),i.$r=i.e53,l.pHC(),i;{let t=e.todo.completed;i.e55.$p.checked!==t&&o(i.e55,"checked",t);let c=e.onToggle;i.e55.$p.onChange!==c&&o(i.e55,"onChange",c);let a=e.onEdit;i.e56.$p.onDoubleClick!==a&&o(i.e56,"onDoubleClick",a),n(i,"e56",[e.todo.title]);let r=e.onDestroy;i.e57.$p.onClick!==r&&o(i.e57,"onClick",r);let u=d;i.e58.$p.value!==u&&o(i.e58,"value",u),o(i.e58,"onChange",e=>s(e.target.value));let h=p;i.e58.$p.onBlur!==h&&o(i.e58,"onBlur",h),o(i.e58,"onKeyDown",t=>{27===t.which?(e.onCancel(event),s(e.todo.title)):13===event.which&&p()}),l.pHC()}}function h(e,l,c){var a=c||{$p:e,$:e=>{h(e,l,a)}};l.sHC(a);let i=(p=e.count,u="item",1===p?u:u+"s");var p,u;let m=null;if(a!==c)return t(a,"e59","button",{className:"clear-completed",onClick:e.onClearCompleted}),n(a,"e59",["Clear completed"]),e.completedCount>0&&(m=a.e59),t(a,"e60","footer",{className:"footer"}),t(a,"e61","span",{className:"todo-count"}),t(a,"e62","strong"),n(a,"e62",[e.count]),n(a,"e61",[a.e62," ",i," left"]),t(a,"e63","ul",{className:"filters"}),t(a,"e64","li"),t(a,"e65","a",{href:"#/",className:e.nowShowing===r?"selected":""}),n(a,"e65",["All"]),n(a,"e64",[a.e65]),t(a,"e66","li"),t(a,"e67","a",{href:"#/active",className:e.nowShowing===d?"selected":""}),n(a,"e67",["Active"]),n(a,"e66",[a.e67]),t(a,"e68","li"),t(a,"e69","a",{href:"#/completed",className:e.nowShowing===s?"selected":""}),n(a,"e69",["Completed"]),n(a,"e68",[a.e69]),n(a,"e63",[a.e64,a.e66,a.e68]),n(a,"e60",[a.e61,a.e63,m]),a.$r=a.e60,l.pHC(),a;{let t=e.onClearCompleted;a.e59.$p.onClick!==t&&o(a.e59,"onClick",t),e.completedCount>0&&(m=a.e59),n(a,"e62",[e.count]),n(a,"e61",[a.e62," ",i," left"]);let c=e.nowShowing===r?"selected":"";a.e65.$p.className!==c&&o(a.e65,"className",c);let p=e.nowShowing===d?"selected":"";a.e67.$p.className!==p&&o(a.e67,"className",p);let u=e.nowShowing===s?"selected":"";a.e69.$p.className!==u&&o(a.e69,"className",u),n(a,"e60",[a.e61,a.e63,m]),l.pHC()}}function m(e){switch(e){case"#/active":return d;case"#/completed":return s;default:return r}}!function(e,t,o,l){let n=o(l,t);n&&(e.innerHTML="",e.appendChild(n.$r._))}(document.getElementById("app"),c,function l(c,r,g){var C=g||{$p:c,$:e=>{l(e,r,C)}};r.sHC(C);let[f,v]=a(""),[w,$]=a(m(window.location.hash)),[y,N]=function(){let[e,t]=a(JSON.parse(window.localStorage.getItem("__todos__")||"null")||[{id:p(),title:"todo 1",completed:!1},{id:p(),title:"todo 2",completed:!1},{id:p(),title:"todo 3",completed:!0}]);return[e,e=>{window.localStorage.setItem("__todos__",JSON.stringify(e)),t(e)}]}(),[k,_]=a(null);i(()=>{let e=()=>{$(m(window.location.hash))};return window.addEventListener("hashchange",e),()=>window.removeEventListener("hashchange",e)});let x=y.filter(function(e){switch(w){case d:return!e.completed;case s:return e.completed;default:return!0}},this).map(function(t,o){var l={};if(r.sHC(l),l!==g)return e(r,l,"c6",u,{key:t.id,todo:t,editing:k===t.id,onEdit:()=>_(t.id),onSave:e=>{y.splice(o,1,{...t,title:e}),N(y),_(null)},onCancel:()=>_(null),onToggle:()=>{y.splice(o,1,{...t,completed:!t.completed}),N(y)},onDestroy:()=>{y.splice(o,1),N(y)}}),l.$r=l.c6,r.pHC(),l;l.c6.$({key:t.id,todo:t,editing:k===t.id,onEdit:()=>_(t.id),onSave:e=>{y.splice(o,1,{...t,title:e}),N(y),_(null)},onCancel:()=>_(null),onToggle:()=>{y.splice(o,1,{...t,completed:!t.completed}),N(y)},onDestroy:()=>{y.splice(o,1),N(y)}}),r.pHC()},this),H=y.reduce(function(e,t){return t.completed?e:e+1},0),S=y.length-H,b=null,D=null;if(C!==g)return t(C,"e70","section",{className:"main"}),t(C,"e71","input",{id:"toggle-all",className:"toggle-all",type:"checkbox",checked:0===H,onChange:()=>{let e=y.every(e=>e.completed);N(y.map(t=>({...t,completed:!e})))}}),n(C,"e71",[]),t(C,"e72","label",{for:"toggle-all"}),n(C,"e72",[]),t(C,"e73","ul",{className:"todo-list"}),n(C,"e73",[x]),n(C,"e70",[C.e71,C.e72,C.e73]),y.length&&(b=C.e70),e(r,C,"c7",h,{count:H,completedCount:S,nowShowing:w,onClearCompleted:()=>N(y.filter(e=>!e.completed))}),(H||S)&&(D=C.c7),t(C,"e74","div"),t(C,"e75","header",{className:"header"}),t(C,"e76","h1"),n(C,"e76",["todos"]),t(C,"e77","input",{className:"new-todo",placeholder:"What needs to be done?",autoFocus:!0,value:f,onChange:e=>v(e.target.value),onKeyDown:e=>{13===e.keyCode&&f&&(e.preventDefault(),y.push({id:p(),title:f,completed:!1}),N(y),v(""))}}),n(C,"e77",[]),n(C,"e75",[C.e76,C.e77]),n(C,"e74",[C.e75,b,D]),C.$r=C.e74,r.pHC(),C;{let e=0===H;C.e71.$p.checked!==e&&o(C.e71,"checked",e),o(C.e71,"onChange",()=>{let e=y.every(e=>e.completed);N(y.map(t=>({...t,completed:!e})))}),n(C,"e73",[x]),y.length&&(b=C.e70),C.c7.$({count:H,completedCount:S,nowShowing:w,onClearCompleted:()=>N(y.filter(e=>!e.completed))}),(H||S)&&(D=C.c7);let t=f;C.e77.$p.value!==t&&o(C.e77,"value",t),o(C.e77,"onChange",e=>v(e.target.value)),o(C.e77,"onKeyDown",e=>{13===e.keyCode&&f&&(e.preventDefault(),y.push({id:p(),title:f,completed:!1}),N(y),v(""))}),n(C,"e74",[C.e75,b,D]),r.pHC()}},null);