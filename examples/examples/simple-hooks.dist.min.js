function e(e,t){e.appendChild(t)}function t(e,t,n,o){if(e[t])return void r(e[t],o);let c={_:document.createElement(n),$p:o,$h:{}};r(c,o),e[t]=c}function n(e,t,n){e.$p[t]&&e._.removeEventListener(t,e.$p[t]),e._.addEventListener(t,n),e.$p[t]=n}function r(e,t){t&&(t.$&&Object.keys(t.$).forEach(n=>(function(e,t,n){n?e._.setAttribute(t,n):e._.removeAttribute(t),e.$p[t]=n})(e,n,t.$[n])),t.$e&&Object.keys(t.$e).forEach(r=>n(e,r,t.$e[r])),t.$p&&Object.keys(t.$p).forEach(n=>(function(e,t,n){e._[t]=n,e.$p[t]=n})(e,n,t.$p[n])),e.$p=t)}function o(t,n,r,o){let c=t[n]._,i=o||0,u=Array.from(c.childNodes),l=!u.length;if(!r||!u.length&&!r.length)return i;let f=r.reduce((e,t)=>e.concat(t),[]),p=new WeakSet;f.forEach(t=>{if(null==t)return;let n=function(e){return"string"==typeof e||"number"==typeof e}(t),r=n?document.createTextNode(t):t.$r?t.$r.$r?t.$r.$r._:t.$r._:t._,o=u.indexOf(r),f=u[i];return null!=r?l?(l=!1,p.add(r),e(c,r)):-1===o&&f&&!n?(p.add(r),c.insertBefore(r,f)):n&&f&&3===f.nodeType?(f.textContent=t,i++,void p.add(f)):u[o]===r?(i++,void p.add(r)):f?void 0:(p.add(r),e(c,r)):void 0}),u.forEach(e=>{p.has(e)||c.removeChild(e)})}let c=(()=>{let e=[];return{sHC:t=>e.push({ctx:t,pos:0,effects:[]}),pHC:()=>{let t=e.pop();t.pos=0,t.effects.forEach(e=>e()),t.effects=[]},gHC:()=>e[e.length-1]}})(),i=(e=[],t=[])=>e.length===t.length&&(!e.length&&!t.length||e.every((e,n)=>e===t[n])),[u,l,f]=(()=>{let e=new Map;let t=new Map;let n=new Map;return[function(t){let n=c.gHC(),r=e.get(n.ctx)||[],o=n.pos,i=void 0===r[o]?"function"==typeof t?t():t:r[o];return n.pos+=1,r[o]=i,e.set(n.ctx,r),[i,t=>{let r=e.get(n.ctx)||[];r[o]="function"==typeof t?t(r[o]):t,e.set(n.ctx,r),n.ctx.$&&n.ctx.$(n.ctx.$p)}]},function(e,n){let r=c.gHC(),o=t.get(r.ctx)||[],u=r.pos,l=o[u];r.pos+=1,l&&i(l.cache,n)||l&&Array.isArray(n)&&!n.length||(o[u]={cache:n},t.set(r.ctx,o),r.effects.push(()=>{l&&l.hookDestroy&&l.hookDestroy();let o=e(),c=t.get(r.ctx)||[];c[u]={hookDestroy:o,cache:n},t.set(r.ctx,c)}))},function(e){let t=c.gHC(),r=n.get(t.ctx)||[],o=t.pos,i=r[o];return t.pos+=1,i||(r[o]={current:e},n.set(t.ctx,r),r[o])}]})();function p(e,n,r){var c=r||{$p:e,$:e=>{p(e,n,c)}};if(n.sHC(c),c!==r)return t(c,"bl","div",{$:{class:"counter"}}),o(c,"bl",[e.children]),c.$r=c.bl,n.pHC(),c;o(c,"bl",[e.children]),n.pHC()}!function(t,n,r,o){let c=r(o,n);if(c)t.innerHTML="",e(t,c.$r._)}(document.getElementById("app"),c,function e(r,c,i){var f=i||{$p:r,$:t=>{e(t,c,f)}};c.sHC(f);var[d,s]=u(0);if(l(function(){var e=setTimeout(function(){return s(d+1)},1e3);return()=>clearTimeout(e)}),f!==i)return t(f,"bm","div"),function(e,t,n,r,o){if(t[n])return void(t[n].$&&t[n].$(o));let c=r(o,e);t[n]=c}(c,f,"bn",p,{children:d}),t(f,"bo","button",{$e:{click:()=>s(d+1)}}),o(f,"bo",["Update counter"]),o(f,"bm",[f.bn,f.bo]),f.$r=f.bm,c.pHC(),f;f.bn.$({children:d}),n(f.bo,"click",()=>s(d+1)),c.pHC()},null);