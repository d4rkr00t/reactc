function e(e,t){e.appendChild(t)}function t(e,t,n,c){if(e[t])return void r(e[t],c);let i={_:document.createElement(n),$p:c,$h:{}};r(i,c),e[t]=i}function n(e,t,n){e.$p[t]&&e._.removeEventListener(t,e.$p[t]),e._.addEventListener(t,n),e.$p[t]=n}function r(e,t){t&&(t.$&&Object.keys(t.$).forEach(n=>(function(e,t,n){n?e._.setAttribute(t,n):e._.removeAttribute(t),e.$p[t]=n})(e,n,t.$[n])),t.$e&&Object.keys(t.$e).forEach(r=>n(e,r,t.$e[r])),t.$p&&Object.keys(t.$p).forEach(n=>(function(e,t,n){e._[t]=n,e.$p[t]=n})(e,n,t.$p[n])),e.$p=t)}function c(t,n,r,c){let i=t[n]._,o=c||0,u=Array.from(i.childNodes),l=!u.length;if(!r||!u.length&&!r.length)return o;let d=r.reduce((e,t)=>e.concat(t),[]),$=new WeakSet;d.forEach(t=>{if(null==t)return;let n=function(e){return"string"==typeof e||"number"==typeof e}(t),r=n?document.createTextNode(t):t.$r?t.$r.$r?t.$r.$r._:t.$r._:t._,c=u.indexOf(r),d=u[o];return null!=r?l?(l=!1,$.add(r),e(i,r)):-1===c&&d&&!n?($.add(r),i.insertBefore(r,d)):n&&d&&3===d.nodeType?(d.textContent=t,o++,void $.add(d)):u[c]===r?(o++,void $.add(r)):d?void 0:($.add(r),e(i,r)):void 0}),u.forEach(e=>{$.has(e)||i.removeChild(e)})}let i=(()=>{let e=[];return{sHC:t=>e.push({ctx:t,pos:0}),pHC:()=>{e.pop().pos=0},gHC:()=>e[e.length-1]}})(),[o,u]=(()=>{let e=new Map;let t=new Map;return[function(t){let n=i.gHC(),r=e.get(n.ctx)||[],c=n.pos,o=void 0===r[c]?t:r[c];return n.pos+=1,r[c]=o,e.set(n.ctx,r),[o,t=>{let r=e.get(n.ctx)||[];r[c]=t,e.set(n.ctx,r),n.ctx.$&&n.ctx.$(n.ctx.$p)}]},function(e){let n=i.gHC(),r=t.get(n.ctx)||[],c=n.pos,o=r[c];o&&o();let u=e();u&&(r[c]=u,t.set(n.ctx,r))}]})();function l(e,n,r){var i=r||{$p:e,$:e=>{l(e,n,i)}};if(n.sHC(i),i!==r)return t(i,"bi","div",{$:{class:"counter"}}),c(i,"bi",[e.children]),i.$r=i.bi,n.pHC(),i;c(i,"bi",[e.children]),n.pHC()}!function(t,n,r,c){let i=r(c,n);if(i)t.innerHTML="",e(t,i.$r._)}(document.getElementById("app"),i,function e(r,i,d){var $=d||{$p:r,$:t=>{e(t,i,$)}};i.sHC($);var[p,f]=o(0);if(u(function(){var e=setTimeout(function(){return f(p+1)},1e3);return()=>clearTimeout(e)}),$!==d)return t($,"bj","div"),function(e,t,n,r,c){if(t[n])return void(t[n].$&&t[n].$(c));let i=r(c,e);t[n]=i}(i,$,"bk",l,{children:p}),t($,"bl","button",{$e:{click:()=>f(p+1)}}),c($,"bl",["Update counter"]),c($,"bj",[$.bk,$.bl]),$.$r=$.bj,i.pHC(),$;$.bk.$({children:p}),n($.bl,"click",()=>f(p+1)),i.pHC()},null);